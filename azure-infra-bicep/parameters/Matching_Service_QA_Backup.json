{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "keyVaultName": {
      "value": "MySharedKeyVault"
    },
    "vmConfigs": {
      "value": [
        {
          "name": "Matching-Service-QA-Backup",
          "location": "eastus",
          "tags": { "matching": "qa-backup" },
          "zone": "1",
          "vmSize": "Standard_D8s_v3",
          "image": {
            "publisher": "canonical",
            "offer": "0001-com-ubuntu-server-jammy",
            "sku": "22_04-lts-gen2",
            "version": "latest"
          },
          "osDisk": {
            "name": "matching-qa-backup-1",
            "sizeGB": 64,
            "storageAccountType": "Premium_LRS",
            "id": "/subscriptions/<subid>/resourceGroups/CODA_RG/providers/Microsoft.Compute/disks/matching-qa-backup-1"
          },
          "dataDisks": [],
          "nicId": "/subscriptions/<subid>/resourceGroups/CODA_RG/providers/Microsoft.Network/networkInterfaces/matching-service-qa-backup123_z1",
          "security": { "encryptionAtHost": true },
          "diagnostics": { "bootEnabled": true },
          "adminUsernameSecret": "vmAdminUsername",
          "extensionSecrets": {
            "username": "extensions_enablevmAccess_username",
            "password": "extensions_enablevmAccess_password",
            "ssh_key": "extensions_enablevmAccess_ssh_key",
            "reset_ssh": "extensions_enablevmAccess_reset_ssh",
            "remove_user": "extensions_enablevmAccess_remove_user",
            "expiration": "extensions_enablevmAccess_expiration"
          }
        }
      ]
    }
  }
}
